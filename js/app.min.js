(()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{(()=>{const t={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return t.Android()||t.BlackBerry()||t.iOS()||t.Opera()||t.Windows()}};t.any()?document.body.classList.add("touch"):document.body.classList.add("pc")})(),function(t){let e=new Image;e.onload=e.onerror=function(){!function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)}(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),(()=>{const t=document.querySelector(".menu-icon"),e=document.querySelector(".header");t&&t.addEventListener("click",(()=>{t.classList.toggle("active"),e.classList.toggle("active"),document.body.classList.toggle("_lock")}))})(),(()=>{const t=document.querySelector(".header");let e,o,n;document.documentElement.scrollTop,t.classList.add("show"),document.body.classList.contains("pc")?window.addEventListener("wheel",(o=>{e=o.deltaY,e<0?t.classList.add("show"):t.classList.remove("show")})):(window.addEventListener("touchstart",(t=>{o=t.changedTouches[0].clientY})),window.addEventListener("touchend",(e=>{n=e.changedTouches[0].clientY,o<n?t.classList.add("show"):t.classList.remove("show")})))})();const t=document.querySelector(".card-bottom-counts-count"),e=document.querySelector(".card-bottom-counts-minus"),o=document.querySelector(".card-bottom-counts-plus");let n=1;e&&e.addEventListener("click",(function(){n<1?n=1:n--,t.textContent=n})),o&&o.addEventListener("click",(function(){n<20?n++:n=20,t.textContent=n}));const c=document.querySelector(".card-button"),r=document.querySelector(".header-cart"),d=document.querySelector(".header-cart-count");let a=Number(localStorage.getItem("cart-count"));localStorage.getItem("cart-count")&&(d.textContent=localStorage.getItem("cart-count")),c&&c.addEventListener("click",(function(){a+=n,d.textContent=a,localStorage.setItem("cart-count",a),r.classList.add("product-add"),setTimeout((()=>{r.classList.remove("product-add")}),400)}));const i=document.querySelector(".header-cart"),s=document.querySelector(".modal-cart-zero"),l=document.querySelector(".modal-cart");let u=116;if(i.addEventListener("click",(()=>{localStorage.getItem("cart-count")>0?h(l):h(s)})),window.addEventListener("click",(t=>{t.target==l&&v(l)})),window.addEventListener("click",(t=>{t.target==s&&v(s)})),s){const t=s.querySelector(".modal-cart-window-close"),e=s.querySelector(".modal-cart-window-button");t&&t.addEventListener("click",(()=>v(s))),e&&e.addEventListener("click",(()=>v(s)))}const m=l.querySelector(".modal-cart-window-close"),g=l.querySelector(".modal-cart-window-button"),y=l.querySelector(".modal-cart-window-info-price"),S=(l.querySelectorAll(".modal-cart-window-product"),l.querySelector(".modal-cart-count")),L=l.querySelector(".product-info-setting-count-minus"),A=l.querySelector(".product-info-setting-count-counter"),w=l.querySelector(".product-info-setting-count-plus"),C=l.querySelector(".product-info-setting-close");function h(t){t.classList.toggle("show"),document.body.classList.add("_lock"),A.textContent=a,S.textContent=a,y.textContent=a*u+" UAH"}function v(t){t.classList.remove("show"),document.body.classList.remove("_lock"),d.textContent=0==a?"":a}S&&(S.textContent=a),A&&(A.textContent=a),L&&L.addEventListener("click",(function(){n<1?n=1:n--,a<=1?a=1:a--,A.textContent=a,localStorage.setItem("cart-count",a),S.textContent=a,y.textContent=a*u+" UAH"})),w&&w.addEventListener("click",(function(){n>=20?n=20:n++,a>=20?a=20:a++,A.textContent=a,localStorage.setItem("cart-count",a),S.textContent=a,y.textContent=a*u+" UAH"})),C&&C.addEventListener("click",(function(t){C.closest(".modal-cart-window-product").classList.add("close")})),m&&m.addEventListener("click",(()=>v(l))),g&&g.addEventListener("click",(()=>v(l))),y&&(y.textContent=a*u+" UAH");const q=document.querySelector(".cart-bottom-price"),f=document.querySelectorAll(".cart-body-item");q&&(q.textContent=a*u+" UAH"),f.length>0&&f.forEach((t=>{const e=t.querySelector(".item-count-counter"),o=t.querySelector(".item-count-plus"),n=t.querySelector(".item-count-minus"),c=t.querySelector(".item-close");n.addEventListener("click",(function(){a<=1?a=1:a--,e.textContent=a,localStorage.setItem("cart-count",a),q.textContent=a*u+" UAH",d.textContent=a})),o.addEventListener("click",(function(){a>20?a=20:a++,e.textContent=a,localStorage.setItem("cart-count",a),q.textContent=a*u+" UAH",d.textContent=a})),c.addEventListener("click",(function(){c.closest(".cart-body-item").classList.add("close"),q.textContent="0 UAH",localStorage.setItem("cart-count",""),d.textContent=""})),e.textContent=a}));const x=document.querySelector(".checkout-products-prices-price"),k=document.querySelectorAll(".checkout-product");x&&(x.textContent=a*u+" UAH"),k.length>0&&k.forEach((t=>{const e=t.querySelector(".item-count"),o=t.querySelector(".item-price");e.textContent=`${a} шт`,o.textContent=a*u+" UAH"}))}))})();